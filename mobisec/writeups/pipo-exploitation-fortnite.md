# Solution

## Description of the problem

The `fortnite` challenge requires to exploit an application to obtain a flag.
The application downloads to files, a checksum and an apk. Upon verification, it starts the apk using java reflection and runs a `run` method.

## Solution

Upon decompilation with jadx I saw that the app donwloads an apk together wit a checksum and saves it in external storage. The apk is verified to match with the hash and subqequently run. First, I wrote an app that would load the same class to enumerate the methods to check whether the given apk has more functionality, however, it did nnot. When running the run method it would simply hint that I should implement it. Hence, that's what I did. Since the apk and checksum are saved in external storeage, I simply need to write different files wiht a corresponding checksum and same filename in the same location and the systme would invoke the `run` method. Inside the loaded class I am then able to access the flag field of the loader. After setting it accessible, we are to print the flag.

## Optional Feedback

I had some problems working on this challenge locally due to missing permissions when writing the file. Even though I added the necessary permissions in the manifest. Even after setting legecay storage api to true it would not work, making debugging slighlty troublesome.

